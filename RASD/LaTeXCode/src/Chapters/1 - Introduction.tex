The EVs are eco-friendly vehicles that will be on our roads in the next future.
In order to keep global warming below 1.5Â°C, Europe have decided to reduce greenhouse gas emissions of CO2 per
person per year by 2030, and, by the same year, the IEA predicts that electric vehicles will have a market share
of roughly 30 percent, with a total number of 23 million e-cars on the roads.
EVs consumption is measured in kilowatt-hours per 100 kilometers, and most of the current electric cars can travel
between 150 and 350 kilometers on a single charge, but premium-brand models can currently cover more than 500
kilometers.

In this context, when people use an electric vehicle, knowing where to charge it and carefully planning the
charging process in such a way that it introduces minimal interference and constraints on our daily schedule
is of great importance.

That's were \verb|eMALL| operates: it can find charging stations owned by several Charging Point Operators - CPO - and,
considering the activities in user's schedule, it can propose the best possible path of charging process
in order to minimize the cost and the waisted time at the station.


\section{Purpose}
\label{sec:purpose}
\newcounter{g}
\setcounter{g}{1}
\newcommand{\cg}{\theg\stepcounter{g}}
\begin{table}[H]
    \centering
    \begin{tabular}{ |l|p{0.9\linewidth}| }
        \hline
        \textbf{ID} & \textbf{Description}                                                                                                     \\
        \hline
        G\cg        & The EVD can see charging stations nearby a specific location on the map                                                  \\
        \hline
        G\cg        & The EVD can get the costs of charging stations                                                                           \\
        \hline
        G\cg        & The EVD can search for special offer provided by charging stations                                                       \\
        \hline
        G\cg        & The EVD can book a charge for his EV at a charging station for a specified time frame                                    \\
        \hline
        G\cg        & The EVD can pay for the recharging service                                                                               \\
        \hline
        G\cg        & Given the destination inserted in an activity in his calendar application, the EVD receives suggestions to charge his EV \\ %TODO: not correctly explained
        \hline
    \end{tabular}
    \caption{The goals.}
    \label{tab:goals_tab}
\end{table}


\section{Scope}
\label{sec:scope}
\newcounter{wp}
\setcounter{wp}{1}
\newcommand{\cwp}{\thewp\stepcounter{wp}}
\begin{table}[H]
    \begin{center}
        \begin{tabular}{ |l|p{0.8\linewidth}| }
            \hline
            \textbf{ID} & \textbf{Description}                                               \\
            \hline
            WP\cwp      & The DSO provides energy to charging stations                       \\
            \hline
            WP\cwp      & The EVD wants to charge his EV's battery                           \\
            \hline
            WP\cwp      & The EVD wants to know the prices of a specific charging station    \\
            \hline
            WP\cwp      & The EVD wants to know if there are any special offer he can redeem \\
            \hline
            WP\cwp      & The EVD wants to know the position of a specific charging station  \\
            \hline
            WP\cwp      & An eMSP actives a new offer for his customers                      \\
            \hline
            WP\cwp      & The CPO have deals with eMSP and offer them their charging station \\
            \hline
            WP\cwp      & The EVD pays for the service                                       \\
            \hline
            WP\cwp      & The EVD inserts a new activity in his calendar                     \\
            \hline
            WP\cwp      & Charging Points are distributed in the territory                   \\
            \hline
            WP\cwp      & CPO buys energy from a DSO at the price defined by the latter      \\
            \hline
            WP\cwp      & CPO defines the selling price of electricity                       \\
            \hline
            WP\cwp      & CPO defines special offers for its customers                       \\
            \hline
            WP\cwp      & The EVD connects the plug of the charging point to the EV          \\
            \hline
            WP\cwp      & The EV reaches the desired level of battery charge                 \\
            \hline
%TODO: evaluate the WP ``The EVD has a calendar where he inserts his activities'' with respect to WP8
%TODO: possibly a domain assumption ``The EV uses a GPS module for its localization''
%TODO: we have to insert as a domain assumption that our system is compatible only with EVs system navigation because
%            we never speak about phones, but only about EVs
%TODO: possibly a domain assumption ``The EV uses internet connection in order to communicate with CPMS' API''
%TODO: possibly a domain assumption ``Each EV has compatibility with a particular charging plug''
%TODO: possibly a domain assumption ``The EV's navigation system provides information about its GPS''
%TODO: possibly a domain assumption ``The EV's navigation system provides information about its average consumption''
%TODO: possibly a domain assumption ``The EV's navigation system provides information about its battery status''
%TODO: possibly a domain assumption ``The eMSP offers API in order to manage charging services''
%TODO: possibly a domain assumption ``The eMSP offers the availability of charging points in its charging stations through its API''
%TODO: possibly a domain assumption ``The eMSP provides charging station location information to eMSPs thanks to its API''
%TODO: possibly a domain assumption ``The eMSP shows to EVDs the ability to book charging stations up to a week in advance''
%TODO: possibly a requirement ``eMSP allows the EVD to be in place for the check up to 15 minutes from the booked time''
%TODO: possibly a domain assumption: The EVD has a payment service that allows him to pay digitally
%            It cannot be a WP because the eMSP is already part of the system, and furthermore is not exclusively part
%            of the reality and then not a WP.
        \end{tabular}
    \end{center}
    \caption{World Phenomenas.}
    \label{tab:worldph_tab}
\end{table}

\newcounter{sp}
\setcounter{sp}{1}
\newcommand{\csp} {\thesp\stepcounter{sp}}
\begin{center}
    \begin{longtable}{ |l|p{0.5\linewidth}|l|l| }
        \hline
        \textbf{ID} & \textbf{Description}                                                                                                      & \textbf{Controller} & \textbf{Observer} \\
        \hline
        SP\csp      & The EVD creates an account in the eMALL system                                                                            & EVD                 & eMALL             \\
        \hline
        SP\csp      & The EVD logs in eMALL                                                                                                     & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL gets EVD's current position                                                                                         & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD asks for the list of charging stations nearby to his/her position to eMALL                                        & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns the list of all the charging stations nearby his/her position to the EVD                                    & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD asks for detailed information about a specific charging station to eMALL                                          & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns the charging cost per kWh of the charging station specified by the EVD                                      & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the charging cost per minute of the charging station specified by the EVD                                   & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the cost per minute of the additional fare for late unplugging of the charging station specified by the EVD & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the charging power of the charging station specified by the EVD                                             & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the types of connectors accepted by the charging points of the charging station specified by the EVD        & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the number of charging points of the charging station specified by the EVD                                  & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL returns the current status (available, occupied, maintenance) of the charging station specified by the EVD          & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD asks for special offers that he/she can redeem to eMALL                                                           & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns all the active special offers to the EVD                                                                    & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD asks for the schedule of a specific charging station to eMALL                                                     & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns the schedule of the charging station specified by the EVD                                                   & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD books a charging point for a specific plug through eMALL                                                          & EVD                 & eMALL             \\
        \hline
        SP\csp      & The EVD pays for a caution after booking a charging session through eMALL                                                 & EVD                 & eMALL             \\
        \hline
        SP\csp      & The EVD inserts a new payment method and the required information into eMALL                                              & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns the outcome of the validity of the payment method inserted by the EVD                                       & eMALL               & EVD               \\
        \hline
        SP\csp      & The EVD starts the charge and waits until the battery reaches the desired level of power                                  & EVD                 & eMALL             \\
        \hline
        SP\csp      & The EVD pays for the charging session using the module offered by eMALL                                                   & EVD                 & eMALL             \\
        \hline
        SP\csp      & eMALL returns the outcome of the payment done by the EVD                                                                  & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL notifies the user of the end of the charging process of his EV's battery                                            & eMALL               & EVD               \\
        \hline
        SP\csp      & eMALL notifies the EVD about the need of charging the EV                                                                  & eMALL               & EVD               \\
        \hline
        SP\csp      & The CPO inserts location information into eMALL                                                                           & CPO                 & eMALL             \\
        %\hline
        %SP\csp      & CPMS requests electricity to the DSO                                                                                      & CPO                 & eMALL             \\
        \hline
        \caption{Shared Phenomenas.}
        \label{tab:sharedph_tab}
    \end{longtable}
\end{center}


\section{Definition, Acronyms, Abbreviations}
\label{sec:definition_acronyms_abbreviations}
\begin{table}[H]
    \begin{center}
        \begin{tabular}{ |l|l| }
            \hline
            \textbf{Acronyms} & \textbf{Definition}                              \\
            \hline
            eMSP              & e-Mobility Service Provider                      \\
            \hline
            CPO               & Charging Point Operator                          \\
            \hline
            CPMS              & Charge Point Management System                   \\
            \hline
            DSO               & Distribution System Operator                     \\
            \hline
            RASD              & Requirements Analysis and Specification Document \\
            \hline
            WP                & World Phenomena                                  \\
            \hline
            SP                & Shared Phenomena                                 \\
            \hline
            GX                & Goal Number X                                    \\
            \hline
            EVD               & Electric Vehicle Driver                          \\
            \hline
        \end{tabular}
        \caption{Acronyms used in the document.}
        \label{tab:acronyms}
    \end{center}
\end{table}


\section{Revision history}
\label{sec:revision_history}


\section{Reference Documents}
\label{sec:reference_documents}
The specification document \verb|Assignment RDD AY 2022-2023.pdf|.


\section{Document Structure}
\label{sec:document_structure}
The document is structured in six sections, as described below.

First section introduce the goals of the project, purposes, and a brief analysis on world and shared phenomena;
abbreviations and definitions useful to understand the problem are listed as well.

The following section, the second one, provides an overall description of the problem: here scenarios and further
details on domain, and scenarios are included, aside from more product and user characteristics, assumptions,
dependencies and constraints.

Later on, the third section focuses on the specific requirements and provides a more detailed analysis of external
interface requirements, functional requirements and performance requirements.

Lastly, the fourth section provides a formal analysis, using alloy.
This chapter is crucial to prove the correctness of the model described in the previous sections, and should focus on
reporting results of the checks performed and meaningful assertions.

Section five reports the effort spent by each group member in the redaction of this document, meanwhile the last
section simply lists bibliography references and other resources used to redact this document.
